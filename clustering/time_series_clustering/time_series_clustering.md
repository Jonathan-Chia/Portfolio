Time Series Clustering vs. Market Basket
=============================================================

Created by Chia, Jonathan on Apr 09, 2022

_Combining Kmeans and time series data to find products displaying similar fluctuations in quantity sold_


Below are some of my notes on how to use time series clustering vs. market basket analysis to find complement products. 

In the end, I think state-of-the-art recommender systems are the better solution; however, I think time series clustering is an interesting topic!


**See this paper for full information:**

[https://docs.google.com/viewer?a=v&pid=sites&srcid=ZGVmYXVsdGRvbWFpbnxhbmFseXRpY3NvZnRoaW5nc3xneDozNjlhODI1Mjg5ZjdlMjhl](https://docs.google.com/viewer?a=v&pid=sites&srcid=ZGVmYXVsdGRvbWFpbnxhbmFseXRpY3NvZnRoaW5nc3xneDozNjlhODI1Mjg5ZjdlMjhl)

  

**Output:**

After time series clustering, D12 and D14 were found to be in the same cluster

![](attachments/95650165/95650167.png)

  

**How the data would look before clustering:**

![](attachments/95650165/95650166.png)

  

  

  

**Strengths:**

*   Bypasses the need for a large matrix for association rule mining, which usually ends up being sparse and leading to redundant and not very useful rules
*   Instead of having a row for each basket, you have a row for each product, so data is way smaller
*   "Time series clustering can be used to identify products that are commonly  
    purchased across a certain time period. Such patterns are otherwise hard to  
    discover using association rule mining, which analyses transactions  
    without temporal consideration."

  

**Problems we might have applying this method on our product data:**

*   Product quantity sold is quite low in general since we have so many products
*   Products may be correlated by random chance - especially if they are not bought very often
*   We have thousands and thousands of different products
*   It might be better to group products by product attributes instead of doing individual products

  

**Why Euclidean distance is wrong** 

**[https://towardsdatascience.com/how-to-apply-k-means-clustering-to-time-series-data-28d04a8f7da3](https://towardsdatascience.com/how-to-apply-k-means-clustering-to-time-series-data-28d04a8f7da3)**

  

**[https://tslearn.readthedocs.io/en/stable/gen\_modules/neighbors/tslearn.neighbors.KNeighborsTimeSeries.html](https://tslearn.readthedocs.io/en/stable/gen_modules/neighbors/tslearn.neighbors.KNeighborsTimeSeries.html)**

  

  

  

**Quantity sold vs quantity available**

Check to see if the reason the product drops right after peaking is because of lack of supply

  

  

**How to check if products that are nearest neighbors are actually complements/substitutes?**

Cross join all the products to get a table like in 

[https://towardsdatascience.com/retail-analytics-a-novel-and-intuitive-way-of-finding-substitutes-and-complements-c99790800b42](https://towardsdatascience.com/retail-analytics-a-novel-and-intuitive-way-of-finding-substitutes-and-complements-c99790800b42)

one problem: we cannot find substitutes because jewelry that are substitutes will never be bought together so the substitute formula proposed in the article would not work

we could check if they are complements by referencing the market basket table (maybe we can lower the parameters so we have more data)

  
  

  

  

Attachments:
------------

![](images/icons/bullet_blue.gif) [image2021-3-16\_16-10-6.png](attachments/95650165/95650166.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2021-3-16\_15-55-1.png](attachments/95650165/95650167.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2021-3-16\_15-54-53.png](attachments/95650165/95650168.png) (image/png)  

Document generated by Confluence on Apr 09, 2022 16:54

[Atlassian](http://www.atlassian.com/)